<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
    xmlns:cxf="http://camel.apache.org/schema/cxf"
    xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://www.springframework.org/schema/beans                             http://www.springframework.org/schema/beans/spring-beans.xsd                                     http://camel.apache.org/schema/spring                             http://camel.apache.org/schema/spring/camel-spring.xsd                                      http://camel.apache.org/schema/cxf                             http://camel.apache.org/schema/cxf/camel-cxf.xsd">
    
    <camelContext id="_idFlujoCamelContext" streamCache="true" xmlns="http://camel.apache.org/schema/spring">
    
        <propertyPlaceholder id="_idPlaceholder" location="classpath:application.properties"/>
        
        <route id="_idFlujoCamelRoute" streamCache="true">
            <from id="_idTimer001" uri="{{ws.timer.component}}" />
           
            <doTry id="_idDoTry_01">
            
                <setBody>
                  <simple>{{mensajeXML}}</simple>
                </setBody>
                 
                <log id="_Log_001" message=" 111... \n ${body}"/>
                	            
	            <transform><simple>{{aaa.bbb.ccc}}</simple></transform>
	            <log id="_Log_002" message="222... \n ${body}"/>
 
                
                <!--  
                <setBody id="_setBody1">
                    <simple>{{mensajeXML}}</simple>
                </setBody>
                
                <loop id="_loop1">
                    <xpath resultType="java.lang.String">/root/nombre[1]/text()</xpath>
                    <log id="_Log_002" message="... \n ${body}"/>
                </loop>
                -->
                
                <doCatch id="_idDoCatch_01">
                    <exception>java.lang.Exception</exception>
                    <handled>
                        <constant>true</constant>
                    </handled>
                    <setBody id="_idSetBody_02">
                        <simple>${exception.getResponseBody}</simple>
                    </setBody>
                    <log id="_Log_002" message="Exception: \n ${body}"/>
                </doCatch>
            </doTry> 
        </route>
    </camelContext>
    
</beans>
